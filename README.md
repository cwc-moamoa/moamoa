# MoaMoa
![image](https://github.com/cwc-moamoa/moamoa/assets/149165093/9fe65f5e-c41d-4532-bd5f-f3fb2578e41d)


# Introduction

í•©ë¦¬ì ì¸ ì†Œë¹„ë¥¼ í•˜ê¸° ìœ„í•´ ëª¨ì¸ ì‚¬ëŒë“¤ê³¼ í•„ìš”í•œ ê²ƒì„ ê³µë™ìœ¼ë¡œ êµ¬ë§¤í•  ìˆ˜ ìˆëŠ” ì‚¬ì´íŠ¸

ê°œë°œ ê¸°ê°„ : 2024.02.26 ~ 2024.04.05

---
# Service Architecture
![ëª¨ì•„ëª¨ì•„ new() ì•„í‚¤í…ì³ì“°](https://github.com/cwc-moamoa/moamoa/assets/120659405/67e8d07c-7426-45ac-b150-c027354862fd)






# Technology
![image](https://github.com/cwc-moamoa/moamoa/assets/149165093/b4e80e98-1e41-4017-82db-62c0e979b3ce)
![image](https://github.com/cwc-moamoa/moamoa/assets/149165093/4b47b474-05d2-4dee-975f-ca9e879e8c91)
![image](https://github.com/cwc-moamoa/moamoa/assets/149165093/147768a3-2363-4e36-9da3-172c958cdadc)
![image](https://github.com/cwc-moamoa/moamoa/assets/149165093/e812a620-036e-417b-99b4-a1224ebe4917)
![image](https://github.com/cwc-moamoa/moamoa/assets/149165093/b6d68008-7a2a-42ff-8099-51d353297fcf)
![image](https://github.com/cwc-moamoa/moamoa/assets/149165093/4338160c-2384-43b5-9372-96ee0d29f8fe)
![image](https://github.com/cwc-moamoa/moamoa/assets/149165093/49499ac3-577b-4a2f-8fd7-7e040c6ed04e)
![image](https://github.com/cwc-moamoa/moamoa/assets/149165093/03309061-23d6-4713-a7b0-fd95ac957827)
![image](https://github.com/cwc-moamoa/moamoa/assets/149165093/b0635d06-9c88-415b-93c4-9e8279c813c1)
![image](https://github.com/cwc-moamoa/moamoa/assets/149165093/f335bc87-c354-4662-9c0f-9d1b27d943e1)
![image](https://github.com/cwc-moamoa/moamoa/assets/149165093/fccabf1b-0925-479f-bd2d-f9d264cbfed8)
![image](https://github.com/cwc-moamoa/moamoa/assets/149165093/ec44aa65-c9d0-40f3-8565-7ee8abea021e)













---
# DB modeling

<img width="1152" alt="image" src="https://github.com/cwc-moamoa/moamoa/assets/120659405/18f0343f-2184-45a4-af35-c0c9eb9b6858">


---
# Features

- products
    - ì „ì²´ ìƒí’ˆ ì¡°íšŒ 
    - ì œí’ˆ ìƒì„¸ ì •ë³´ ì¡°íšŒ
    - ìƒí’ˆ ë“±ë¡
    - ìƒí’ˆ ìˆ˜ì •
    - ìƒí’ˆ ì‚­ì œ
- groupPurchase
    - ê³µë™êµ¬ë§¤ ì°¸ì—¬
    - ê°œì¸ ì¼ë°˜ êµ¬ë§¤
- image
    - ì´ë¯¸ì§€ ì—…ë¡œë“œ
- payment
    - ê²°ì œ
    - ê²°ì œ ê²€ì¦
- order
    - ì „ì²´ ì£¼ë¬¸ ì¡°íšŒ
    - ì£¼ë¬¸ ìƒì„¸ ì •ë³´ ì¡°íšŒ
    - ì£¼ë¬¸ ìƒì„±
    - ì£¼ë¬¸ ìˆ˜ì •
    - ì£¼ë¬¸ ì·¨ì†Œ
    - ì£¼ë¬¸ ì¶”ì  ìƒíƒœ ë³€ê²½(íŒë§¤ì)
    - íŒë§¤ ë‚´ì—­ ì¡°íšŒ(íŒë§¤ì)
- review
    - ì „ì²´ ë¦¬ë·° ì¡°íšŒ 
    - ë¦¬ë·° ë“±ë¡
    - ë¦¬ë·° ìˆ˜ì •
    - ë¦¬ë·° ì¡°íšŒ
    - ë¦¬ë·° ì‚­ì œ
- like
    - ìƒí’ˆ ì¢‹ì•„ìš”
    - ìƒí’ˆ ì¢‹ì•„ìš” ì·¨ì†Œ
    - ë¦¬ë·° ì¢‹ì•„ìš”
    - ë¦¬ë·° ì¢‹ì•„ìš” ì·¨ì†Œ
- search
    - ìƒí’ˆ ê²€ìƒ‰
    - ë¦¬ë·° ê²€ìƒ‰
    - ì¢‹ì•„ìš” ìˆœ ìƒí’ˆ ê²€ìƒ‰
    - ì¢‹ì•„ìš” ìˆœ ë¦¬ë·° ê²€ìƒ‰
    - ë³„ì  ìˆœ ìƒí’ˆ ê²€ìƒ‰
    - ì¸ê¸° ê²€ìƒ‰ì–´ ì¡°íšŒ
- seller
    - íŒë§¤ì ê°€ì…
    - íŒë§¤ì ë¡œê·¸ì¸
    - íŒë§¤ì íƒˆí‡´
- socialUser
    - ì¹´ì¹´ì˜¤ ì†Œì…œ ë¡œê·¸ì¸
    - ì¡°ê±´ì„ ë§Œì¡±í•˜ëŠ” ë°ì´í„°ë¡œ íšŒì›ê°€ì…
 
---

# Project Structure
**Domain** íŒ¨í‚¤ì§€ 
- Controller: í´ë¼ì´ì–¸íŠ¸ì˜ ìš”ì²­ì„ ë°›ê³  ì‘ë‹µì„ ë°˜í™˜í•˜ëŠ” ì—­í• . ê°ê°ì˜ ì—”ë“œí¬ì¸íŠ¸ì— ëŒ€í•œ ìš”ì²­ì„ ì²˜ë¦¬, ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ í˜¸ì¶œ.
- Dto: í´ë¼ì´ì–¸íŠ¸ì™€ ì„œë²„ ê°„ì˜ ë°ì´í„° ì „ì†¡ì„ ìœ„í•œ ê°ì²´ë“¤ì´ ìœ„ì¹˜. 
- Model(Entity): ë¹„ì¦ˆë‹ˆìŠ¤ ê°ì²´ë“¤ì„ ë‚˜íƒ€ë‚´ëŠ” í´ë˜ìŠ¤ë“¤ì´ ìœ„ì¹˜. ì‚¬ìš©ì(User), ì œí’ˆ(Product), ì£¼ë¬¸(Order) ë“±ì˜ ì—”í‹°í‹° í¬í•¨.
- Repository: ë°ì´í„°ë² ì´ìŠ¤ì™€ ìƒí˜¸ì‘ìš©í•˜ê¸° ìœ„í•œ ì¸í„°í˜ì´ìŠ¤ë“¤ì´ ìœ„ì¹˜. ê° ì—”í‹°í‹°ì— ëŒ€í•œ CRUD ë™ì‘ì„ ì •ì˜í•˜ê³  êµ¬í˜„.
- Services: ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ìˆ˜í–‰í•˜ëŠ” ë©”ì†Œë“œë“¤ì´ ìœ„ì¹˜.

**Infra** íŒ¨í‚¤ì§€ 
- Amazon S3(Simple Storage Service) : ì´ë¯¸ì§€ ë° ë©€í‹°ë¯¸ë””ì–´ ì½˜í…ì¸ ë¥¼ ì €ì¥í•˜ê¸° ìœ„í•œ Amazon S3 ì„¤ì • í¬í•¨.
- Security : ì‚¬ìš©ì ì¸ì¦ ë° ê¶Œí•œ ë¶€ì—¬ë¥¼ ìœ„í•œ ì‹œíë¦¬í‹° ì„¤ì •. JWTë¥¼ í†µí•œ ì¸ì¦ ê´€ë ¨ ë‚´ìš©ë„ í¬í•¨.
- Swagger : API ë¬¸ì„œ ìë™í™” ë° í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•œ ìŠ¤ì›¨ê±° ì„¤ì •.
- Exception : ì˜ˆì™¸ ì²˜ë¦¬ì™€ ê´€ë ¨ëœ í´ë˜ìŠ¤ë“¤ì„ ë‹´ë‹¹. í”„ë¡œê·¸ë¨ ì‹¤í–‰ ì¤‘ ë°œìƒí•  ìˆ˜ ìˆëŠ” ì˜ˆì™¸ ìƒí™©ì„ ì²˜ë¦¬í•˜ê¸° ìœ„í•œ í´ë˜ìŠ¤ë“¤ ìœ„ì¹˜.


---

## ê¸°ìˆ ì  ì˜ì‚¬ê²°ì •

| ì‚¬ìš© ê¸°ìˆ  | ê¸°ìˆ  ì„¤ëª… |
| --- | --- |
| GitHub Actions | GitHubì™€ í†µí•©ë˜ì–´ ë†’ì€ ì ‘ê·¼ì„±. ìˆ˜í‰ í™•ì¥ì´ ìš©ì´. |
| redis | ë™ì‹œì„± ì œì–´ë¥¼ ìœ„í•´ ë¶„ì‚°lockì„ êµ¬í˜„í•˜ê¸° ìœ„í•´ì„œ , redisì—ì„œ ì œê³µí•˜ëŠ” í´ë¼ì´ì–¸íŠ¸ ì¤‘  redisson ì—ì„œ pup/sub ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ì—¬ ë½ì„ íšë“í•˜ê¸° ìœ„í•˜ì—¬ ì‚¬ìš© |
| portone | Port oneì´ ì œê³µí•˜ëŠ” ê°„í¸í•œ APIë¥¼ í†µí•´ ì‰½ê²Œ ì•±ì— í†µí•©í•´ ê°œë°œ ì‹œê°„ ë‹¨ì¶•. ê¸€ë¡œë²Œ ì„œë¹„ìŠ¤ë¥¼ ì œê³µí•´ ë‹¤ì–‘í•œ êµ­ê°€ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆìŒ. (í™•ì¥ì„± ê³ ë ¤), ë˜í•œ í…ŒìŠ¤íŠ¸ ê²°ì œë¥¼ ì§€ì›í•˜ì—¬ ê°œë°œë‹¨ê³„ì—ì„œ í…ŒìŠ¤íŠ¸ê°€ ìš©ì´í•´ì„œ ì±„ìš©. |
| supabase | ë°ì´í„°ë² ì´ìŠ¤ì— ì§ì ‘ ì•¡ì„¸ìŠ¤í•  ìˆ˜ ìˆëŠ” RESTful APIë¥¼ ì œê³µí•´ ë¹ ë¥¸ ê°œë°œì— ë„ì›€ëœë‹¤ê³  íŒë‹¨. ë˜í•œ ê³„ì† ì‚¬ìš©í•´ì™”ë˜ ì„œë¹„ìŠ¤ë¼ ëŸ¬ë‹ì»¤ë¸Œê°€ ë‹¤ë¥¸ê³³ì— ë¹„í•´ ìƒëŒ€ì ìœ¼ë¡œ ë‚®ë‹¤ê³  ìƒê°í•˜ì—¬ í•œì •ëœ ê°œë°œê¸°ê°„ì— ì‹œê°„ë‹¨ì¶•ì„ ìœ„í•´ì„œ ì‚¬ìš©. |
| EC2 | ì‚¬ìš©í•œë§Œí¼ë§Œ ì§€ë¶ˆí•˜ëŠ” ê°€ê²© ì²´ê³„ ì œê³µ. |
| Amazon S3 | ë†’ì€ í™•ì¥ì„±. ì‚¬ìš©í•œë§Œí¼ë§Œ ì§€ë¶ˆí•˜ëŠ” ê°€ê²© ì²´ê³„ ì œê³µ. |
| ouath2 | ì†Œì…œ ë¡œê·¸ì¸ì„ ìœ„í•´ ë„ì…, ê°„í¸í•œ ë¡œê·¸ì¸ìœ¼ë¡œ ë” ë§ì€ ë„ë©”ì¸ ìœ ì…ì„ ê¸°ëŒ€ |

---
## ğŸ› Â íŠ¸ëŸ¬ë¸”ìŠˆíŒ…


### âœ”ï¸ í˜ì´ì§•ì„í†µí•´ ë¦¬ë·°ì™€ ìƒí’ˆì˜ ì¢‹ì•„ìš”ë¥¼ ê²€ìƒ‰í•˜ëŠ” ì‘ì—…ì„ í–ˆì„ ë•Œ Hibernate Lazy Initialization Exception ì˜¤ë¥˜ ë°œìƒ

> **í•´ê²°**
> 
1. Hibernate5Moduleì„ ë“±ë¡í•˜ëŠ” ë°©ë²•. í•´ë‹¹ ì—”í‹°í‹°ë¥¼ ê±´ë“œë¦¬ì§€ ì•Šì•„ë„ ë˜ëŠ” ì¥ì ì´ ìˆìœ¼ë‚˜ Hibernate5Modulë¥¼ ì•Œì•„ì•¼ë§Œ ìˆ˜ì›”í•˜ê²Œ ì‚¬ìš© ê°€ëŠ¥.
2. ë¬¸ì œê°€ ë°œìƒí•˜ëŠ” ì—”í‹°í‹°ì— JsonIgnorePropertiesë¥¼ ì¶”ê°€.ë§¤ìš° ê°„ë‹¨í•˜ì§€ë§Œ ê·¼ë³¸ì ì¸ ë¬¸ì œ í•´ê²°ì´ ì•„ë‹˜. 
3. lazyë¥¼ eagerë¡œ ë³€ê²½.ë§¤ìš° ê°„ë‹¨í•˜ì§€ë§Œ í•­ìƒ ëª¨ë“  ì—°ê´€ëœ ê°ì²´ë¥¼ ë¡œë”©í•˜ê²Œ ë˜ë¯€ë¡œ, í•„ìš”í•˜ì§€ ì•Šì€ ë°ì´í„°ê¹Œì§€ ë¡œë”©í•˜ê²Œ ë¨. ë©”ëª¨ë¦¬ ë‚­ë¹„ ì´ˆë˜í•˜ê³  ì„±ëŠ¥ ì €í•˜ ê°€ëŠ¥ì„± ìš°ë ¤.
4. **ì—”í‹°í‹°ì— ì§ì ‘ ì—°ê²°í•˜ì§€ ì•Šê³  dtoë¥¼ í†µí•´ í•„ìš”í•œ ì •ë³´ë§Œ ë°›ì•„ì˜¤ê²Œ í•˜ê¸°. ì—”í‹°í‹°ì™€ APIê°„ì˜ ê²°í•©ë„ë¥¼ ë‚©ì¶¤. ì—”í‹°í‹°ì˜ ë³€ê²½ì´ APIì— ì§ì ‘ì ì¸ ì˜í–¥ì„ ë¯¸ì¹˜ëŠ” ê²ƒì„ ë°©ì§€í•´ ìœ ì§€ë³´ìˆ˜ì„±ì„ í–¥ìƒì‹œí‚´.** 

**4ë²ˆ ë°©ë²•ì„ í†µí•´ ì˜¤ë¥˜ í•´ê²°**

<img width="753" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2024-04-02 á„‹á…©á„’á…® 4 30 22" src="https://github.com/cwc-moamoa/moamoa/assets/149165093/d22e84e6-fc94-483e-acdd-63eb484bc708">

ê·¸ë˜ì„œ ì„œë¹„ìŠ¤ì—ì„œ ì—”í„°í‹°ì— ì§ì ‘ ë°˜í™˜í•˜ë©´ ì»¨íŠ¸ë¡¤ëŸ¬ë¡œ ëŒì•„ê°€ëŠ” ìˆœê°„ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ê°€ ì¤€ì˜ì† ìƒíƒœë¡œ ë°”ë€Œê¸° ë•Œë¬¸ì— ì´ ìƒí™©ì—ì„œ Lazyë¡œë”©ì´ ë°œìƒí•˜ë©´ LazyInitializationExceptionì´ ì—ëŸ¬ê°€ ë°œìƒí•©ë‹ˆë‹¤. 
ì´ ê²½ìš° ì—”í„°í‹°ì—ì„œ DTOë¡œ ë§¤í•‘í•˜ëŠ” ì½”ë“œë¥¼ ì„œë¹„ìŠ¤ì—ì„œ í•˜ë„ë¡ ìˆ˜ì • í•˜ë©´ ë©ë‹ˆë‹¤(íŠ¸ëœì­ì…˜ ë‚´ì—ì„œ ëª¨ë“  ì‘ì—…ì´ ì´ë£¨ì–´ì§€ë„ë¡)


---


### âœ”ï¸ ë™ì¼ ë°ì´í„°ë¥¼ ë™ì‹œì— ê°±ì‹ í•  ê²½ìš°, ì´ì „ íŠ¸ëœì ì…˜ì´ ë°ì´í„°ë¥¼ ê°±ì‹ í•œ í›„, íŠ¸ëœì­ì…˜ì„ ì¢…ë£Œí•˜ê¸° ì „ì— ë‚˜ì¤‘ íŠ¸ëœì­ì…˜ì´ ê°±ì‹  ê°’ì„ ë®ì–´ì“°ëŠ” ê²½ìš° ë°œìƒ

<img width="758" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2024-04-02 á„‹á…©á„’á…® 4 30 48" src="https://github.com/cwc-moamoa/moamoa/assets/149165093/465b9598-302f-401f-b90f-641f185d6bd5">

> **í•´ê²°**

<img width="752" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2024-04-02 á„‹á…©á„’á…® 4 31 04" src="https://github.com/cwc-moamoa/moamoa/assets/149165093/e1e5b15e-b18a-4126-96f9-588d5aceeb63">



---
# Built With
 [ê¹€ì„ ë³‘](https://github.com/Karox1234) - íŒ€ì¥, ì£¼ë¬¸, ê²°ì œ ì‹œìŠ¤í…œ, ë™ì‹œì„± ì œì–´, í”„ë¡ íŠ¸

 [ê¹€ë³´ì„±](https://github.com/96KimBoseong)  - ë¶€íŒ€ì¥, ì£¼ë¬¸, CI/CD, í”„ë¡ íŠ¸ ,ì£¼ì†ŒAPI

 [ê°•ë¯¼ì§€](https://github.com/mingdorri) - íŒ€ì›, ë¦¬ë·°, ë©€í‹°ë¯¸ë””ì–´ ì—…ë¡œë“œ, PPT ì œì‘

 [ì´ ìœ¨](https://github.com/dyorcat) - íŒ€ì›, íšŒì›ê°€ì…, ì†Œì…œë¡œê·¸ì¸, ì—ëŸ¬ì²˜ë¦¬, í”„ë¡ íŠ¸

 [í™ì„±ìš±](https://github.com/suh75321) - íŒ€ì›, ìƒí’ˆ, ì¢‹ì•„ìš”, ê²€ìƒ‰
